<!DOCTYPE html>
<html lang="en">
<head>
  <!-- BASIC SEO -->
  <meta charset="UTF-8">
  <title>Remove Pages from PDF – Skill2Job</title>
  <meta name="description" content="Remove selected pages from PDF online. Upload PDF, choose pages and download instantly. Free & secure.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- FONT -->
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600&display=swap" rel="stylesheet">

  <style>
    :root{
      --primary:#2563eb;
      --dark:#1e293b;
      --bg:#f8fafc;
      --border:#e2e8f0;
      --card:#ffffff;
      --text:#334155;
      --font-base:16px;
    }

    *{margin:0;padding:0;box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      font-family:'Poppins',sans-serif;
      background:var(--bg);
      color:var(--text);
      font-size:var(--font-base);
      line-height:1.6;
    }

    header{
      background:var(--card);
      border-bottom:1px solid var(--border);
      position:sticky;top:0;z-index:1000;
    }
    .header-container{
      max-width:1100px;margin:auto;
      padding:14px 16px;
      display:flex;justify-content:space-between;align-items:center;
    }
    .logo img{height:36px}
    .share-btn{
      background:var(--primary);
      color:#fff;border:none;
      padding:8px 14px;
      border-radius:6px;
      font-size:15px;
      cursor:pointer;
    }

    .tool-section{padding:40px 16px}
    .tool-card{
      max-width:800px;margin:auto;
      background:var(--card);
      padding:24px;
      border-radius:10px;
      box-shadow:0 8px 22px rgba(0,0,0,.05);
    }
    .tool-card h1{
      text-align:center;
      font-size:22px;
      font-weight:600;
      margin-bottom:20px;
      color:var(--dark);
    }

    .input-group{margin-bottom:16px}
    .input-group label{
      display:block;
      margin-bottom:6px;
      font-size:16px;
      font-weight:500;
    }
    .input-group input{
      width:100%;
      padding:10px;
      font-size:16px;
      border-radius:6px;
      border:1px solid var(--border);
    }

    .calculate-btn{
      width:100%;
      padding:12px;
      font-size:16px;
      background:var(--primary);
      color:#fff;
      border:none;
      border-radius:6px;
      cursor:pointer;
      font-weight:500;
    }

    .loading{
      display:none;
      margin-top:20px;
      text-align:center;
    }
    .spinner{
      width:36px;height:36px;
      border:4px solid #dbeafe;
      border-top:4px solid var(--primary);
      border-radius:50%;
      margin:auto;
      animation:spin .8s linear infinite;
    }

    .result{
      display:none;
      margin-top:20px;
      padding:14px;
      background:#eff6ff;
      border-left:4px solid var(--primary);
      border-radius:6px;
      font-size:16px;
      text-align:center;
    }

    footer{
      background:var(--dark);
      color:#cbd5f5;
      text-align:center;
      padding:14px;
      font-size:14px;
    }

    @keyframes spin{to{transform:rotate(360deg)}}
  </style>

  <!-- PDF LIB -->
  <script src="https://unpkg.com/pdf-lib/dist/pdf-lib.min.js"></script>
</head>

<body>

<header>
  <div class="header-container">
    <div class="logo">
      <img src="https://i.postimg.cc/YCnzSpLg/Official_Logo.webp" alt="Skill2Job Logo">
    </div>
    <button class="share-btn" id="shareBtn">Share</button>
  </div>
</header>

<section class="tool-section">
  <div class="tool-card">
    <h1>Remove Pages from PDF</h1>

    <div class="input-group">
      <label>Upload PDF</label>
      <input type="file" id="pdfFile" accept="application/pdf">
    </div>

    <div class="input-group">
      <label>Pages to Remove</label>
      <input type="text" id="pages" placeholder="Example: 1,3,5-7">
    </div>

    <button class="calculate-btn" id="removeBtn">
      Remove Pages & Download
    </button>

    <div class="loading" id="loading">
      <div class="spinner"></div>
    </div>

    <div class="result" id="result"></div>
  </div>
</section>

<footer>Skill2Job Tools</footer>

<script>
const pdfInput = document.getElementById("pdfFile");
const removeBtn = document.getElementById("removeBtn");
const result = document.getElementById("result");
const loading = document.getElementById("loading");

let pdfBytes = null;

pdfInput.addEventListener("change", async e => {
  result.style.display = "none";
  if (!e.target.files.length) return;
  pdfBytes = await e.target.files[0].arrayBuffer();
});

function parsePages(input){
  const pages = new Set();
  input.split(",").forEach(part=>{
    if(part.includes("-")){
      const [s,e] = part.split("-").map(Number);
      for(let i=s;i<=e;i++) pages.add(i-1);
    }else{
      const n = Number(part);
      if(!isNaN(n)) pages.add(n-1);
    }
  });
  return pages;
}

removeBtn.addEventListener("click", async ()=>{
  result.style.display = "none";

  if(!pdfBytes){
    result.textContent = "Please upload your PDF first.";
    result.style.display = "block";
    result.scrollIntoView({behavior:"smooth",block:"center"});
    return;
  }

  const pageInput = document.getElementById("pages").value.trim();
  if(!pageInput){
    result.textContent = "Please enter page numbers to remove.";
    result.style.display = "block";
    result.scrollIntoView({behavior:"smooth",block:"center"});
    return;
  }

  loading.style.display = "block";
  removeBtn.disabled = true;

  try{
    const removePages = parsePages(pageInput);
    const srcPdf = await PDFLib.PDFDocument.load(pdfBytes);
    const newPdf = await PDFLib.PDFDocument.create();

    const total = srcPdf.getPageCount();
    for(let i=0;i<total;i++){
      if(!removePages.has(i)){
        const [p] = await newPdf.copyPages(srcPdf,[i]);
        newPdf.addPage(p);
      }
    }

    const bytes = await newPdf.save();
    const blob = new Blob([bytes],{type:"application/pdf"});
    const url = URL.createObjectURL(blob);

    result.innerHTML = `<a href="${url}" download="pages-removed.pdf">Download PDF</a>`;
    result.style.display = "block";
    result.scrollIntoView({behavior:"smooth",block:"center"});
  }catch{
    result.textContent = "Error processing PDF. Please check page numbers.";
    result.style.display = "block";
  }

  loading.style.display = "none";
  removeBtn.disabled = false;
});

document.getElementById("shareBtn").addEventListener("click",()=>{
  if(navigator.share){
    navigator.share({
      title:"Remove Pages from PDF – Skill2Job",
      url:location.href
    });
  }
});
</script>

</body>
</html>
